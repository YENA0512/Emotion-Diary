{"ast":null,"code":"import _slicedToArray from\"/Users/yenalee/Desktop/Elice/therory/React-Practice/emotion-diary/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useNavigate,useParams}from\"react-router-dom\";import{useContext,useEffect,useState}from\"react\";import{DiaryStateContext}from\"../App\";import{getStringDate}from\"../utill/date\";import MyHeader from\"../components/MyHeader\";import MyButton from\"../components/MyButton\";import{emotionList}from\"../utill/emotion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Diary=function Diary(){var _useParams=useParams(),id=_useParams.id;var diaryList=useContext(DiaryStateContext);var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var titleElement=document.getElementsByTagName(\"title\")[0];titleElement.innerHTML=\"\\uAC10\\uC815 \\uC77C\\uAE30\\uC7A5 = \".concat(id,\"\\uBC88 \\uC77C\\uAE30\");});useEffect(function(){if(diaryList.length>=1){var targetDiary=diaryList.find(function(it){return parseInt(it.id)===parseInt(id);});if(targetDiary){setData(targetDiary);}else{alert(\"존재하지 않는 일기입니다.\");navigate(\"/\",{replace:true});}}},[id,diaryList,navigate]);if(!data){return/*#__PURE__*/_jsx(\"div\",{className:\"DiaryPage\",children:\"\\uB85C\\uB529\\uC911\\uC785\\uB2C8\\uB2E4...\"});}else{var curEmotionData=emotionList.find(function(it){return parseInt(it.emotion_id)===parseInt(data.emotion);});console.log(curEmotionData);return/*#__PURE__*/_jsxs(\"div\",{className:\"DiaryPage\",children:[/*#__PURE__*/_jsx(MyHeader,{headText:\"\".concat(getStringDate(new Date(data.date)),\" \\uAE30\\uB85D\"),leftChild:/*#__PURE__*/_jsx(MyButton,{text:\"< 뒤로가기\",onClick:function onClick(){return navigate(-1);}}),rightChild:/*#__PURE__*/_jsx(MyButton,{text:\"수정하기\",onClick:function onClick(){return navigate(\"/edit/\".concat(data.id));}})}),/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC624\\uB298\\uC758 \\uAC10\\uC815\"}),/*#__PURE__*/_jsxs(\"div\",{className:[\"diary_img_wrapper\",\"diary_img_wrapper_\".concat(data.emotion)].join(\" \"),children:[/*#__PURE__*/_jsx(\"img\",{src:curEmotionData.emotion_img,alt:curEmotionData.emotion_descript}),/*#__PURE__*/_jsx(\"div\",{className:\"emotion_descript\",children:curEmotionData.emotion_descript})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC624\\uB298\\uC758 \\uC77C\\uAE30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"diary_content_wrapper\",children:/*#__PURE__*/_jsx(\"p\",{children:data.content})})]})]})]});}};export default Diary;","map":{"version":3,"names":["useNavigate","useParams","useContext","useEffect","useState","DiaryStateContext","getStringDate","MyHeader","MyButton","emotionList","Diary","id","diaryList","navigate","data","setData","titleElement","document","getElementsByTagName","innerHTML","length","targetDiary","find","it","parseInt","alert","replace","curEmotionData","emotion_id","emotion","console","log","Date","date","join","emotion_img","emotion_descript","content"],"sources":["/Users/yenalee/Desktop/Elice/therory/React-Practice/emotion-diary/myapp/src/pages/Diary.js"],"sourcesContent":["import { useNavigate, useParams } from \"react-router-dom\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { DiaryStateContext } from \"../App\";\nimport { getStringDate } from \"../utill/date\";\nimport MyHeader from \"../components/MyHeader\";\nimport MyButton from \"../components/MyButton\";\nimport { emotionList } from \"../utill/emotion\";\n\nconst Diary = () => {\n  const { id } = useParams();\n  const diaryList = useContext(DiaryStateContext);\n  const navigate = useNavigate();\n  const [data, setData] = useState();\n\n  useEffect(() => {\n    const titleElement = document.getElementsByTagName(\"title\")[0];\n    titleElement.innerHTML = `감정 일기장 = ${id}번 일기`;\n  });\n  useEffect(() => {\n    if (diaryList.length >= 1) {\n      const targetDiary = diaryList.find(\n        (it) => parseInt(it.id) === parseInt(id)\n      );\n      if (targetDiary) {\n        setData(targetDiary);\n      } else {\n        alert(\"존재하지 않는 일기입니다.\");\n        navigate(\"/\", { replace: true });\n      }\n    }\n  }, [id, diaryList, navigate]);\n  if (!data) {\n    return <div className=\"DiaryPage\">로딩중입니다...</div>;\n  } else {\n    const curEmotionData = emotionList.find(\n      (it) => parseInt(it.emotion_id) === parseInt(data.emotion)\n    );\n    console.log(curEmotionData);\n    return (\n      <div className=\"DiaryPage\">\n        <MyHeader\n          headText={`${getStringDate(new Date(data.date))} 기록`}\n          leftChild={\n            <MyButton text={\"< 뒤로가기\"} onClick={() => navigate(-1)} />\n          }\n          rightChild={\n            <MyButton\n              text={\"수정하기\"}\n              onClick={() => navigate(`/edit/${data.id}`)}\n            />\n          }\n        />\n        <article>\n          <section>\n            <h4>오늘의 감정</h4>\n            <div\n              className={[\n                \"diary_img_wrapper\",\n                `diary_img_wrapper_${data.emotion}`,\n              ].join(\" \")}\n            >\n              <img\n                src={curEmotionData.emotion_img}\n                alt={curEmotionData.emotion_descript}\n              />\n              <div className=\"emotion_descript\">\n                {curEmotionData.emotion_descript}\n              </div>\n            </div>\n          </section>\n          <section>\n            <h4>오늘의 일기</h4>\n            <div className=\"diary_content_wrapper\">\n              <p>{data.content}</p>\n            </div>\n          </section>\n        </article>\n      </div>\n    );\n  }\n};\nexport default Diary;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}